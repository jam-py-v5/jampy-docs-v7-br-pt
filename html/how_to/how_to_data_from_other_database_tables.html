<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How can I use data from other database tables &mdash; Jam.py  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
    <link rel="canonical" href="https://jampyapplicationbuilder.com/docs/how_to/how_to_data_from_other_database_tables.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=a354a556"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=9bcbadda"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How I can process a request or get some data from other application or service" href="how_to_request_from_other_application.html" />
    <link rel="prev" title="Can I use Jam.py with existing database" href="how_to_use_jam_py_with_existing_database.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../contents.html" class="icon icon-home"> Jam.py
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Jam.py V7 documentation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programming/index.html">Jam.py programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">Jam.py FAQ</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">How to</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="how_to_install_on_windows.html">How to install Jam.py on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_implement_a_many-to-many_relationship.html">How to implement a many-to-many relationship</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_migrate_development_to_production.html">How to migrate development to production</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_migrate_to_another_database.html">How to migrate to another database</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy/index.html">How to deploy</a></li>
<li class="toctree-l2"><a class="reference internal" href="global_scripts.html">How do I write functions which have a global scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_validate_field_value.html">How to validate field value</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_add_a_button_to_a_form.html">How to add a button to a form</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_execute_script_from_client.html">How to execute script from client</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_change_style_and_attributes_of_elements.html">How to change style and attributes of form elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_create_a_custom_menu.html">How to create a custom menu</a></li>
<li class="toctree-l2"><a class="reference internal" href="to_append_a_record_without_view_form.html">How to append a record using an edit form without opening a view form?</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_prohibit_changing_record.html">How to prohibit changing record</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_link_two_tables.html">How to link two tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_change_field_value_of_selected_records.html">How change field value of selected records</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_save_edit_form_without_closing_it.html">How to save edit form without closing it</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_save_changes_to_two_tables_in_same_transaction.html">How to save changes to two tables in same transaction on the server</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_prevent_duplicate_values.html">How to prevent duplicate values in a table field</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_multitenancy.html">How to implement some sort of basic multi-tenancy? For example, to have users with separate data.</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_use_jam_py_with_existing_database.html">Can I use Jam.py with existing database</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">How can I use data from other database tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_request_from_other_application.html">How I can process a request or get some data from other application or service</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_calculations_in_the_background.html">How can I perform calculations in the background</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_details_inside_details.html">Is it supported to have details inside details?</a></li>
<li class="toctree-l2"><a class="reference internal" href="export_import_csv_files.html">Export to / import from csv files</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication/index.html">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_migrate_to_v7.html">How to migrate v5 project to v7</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../admin/index.html">Business application builder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refs/index.html">Jam.py class reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">Jam.py</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../contents.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">How to</a> &raquo;</li>
      <li>How can I use data from other database tables</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="how-can-i-use-data-from-other-database-tables">
<h1>How can I use data from other database tables<a class="headerlink" href="#how-can-i-use-data-from-other-database-tables" title="Link to this heading">¶</a></h1>
<p>You can use data from other database tables.</p>
<p>First you must specify table name and fields information.
You can do it the following way:</p>
<ul class="simple">
<li><p>Select project node in the task tree and click <strong>Database</strong> button.</p></li>
<li><p>Set DB manual mode and specify the database connection attributes.</p></li>
<li><p>Import tables information as described in the
<a class="reference internal" href="../admin/integration_with_existing_database.html"><span class="doc">Integration with existing database</span></a></p></li>
<li><p>Select project node in the task tree, click <strong>Database</strong> button restore previous values.</p></li>
</ul>
<p>Then in the server module of the new items you must add code to read and write
the data to the database</p>
<p>Below is the code for MySQL database (auto incremented primary field):</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">MySQLdb</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jam.db</span><span class="w"> </span><span class="kn">import</span> <span class="n">mysql</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_open</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">create_connection_ex</span><span class="p">(</span><span class="n">mysql</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="s1">&#39;demo&#39;</span><span class="p">,</span> \
        <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;111&#39;</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF8&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_select_query</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">mysql</span><span class="p">)</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">connection</span><span class="p">,</span> <span class="n">mysql</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">rows</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_apply</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">delta</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">create_connection_ex</span><span class="p">(</span><span class="n">mysql</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="s1">&#39;demo&#39;</span><span class="p">,</span> \
        <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;111&#39;</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF8&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="n">delta</span><span class="o">.</span><span class="n">apply_sql</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">mysql</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">connection</span><span class="p">,</span> <span class="n">mysql</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<p>If database use generators to get primary field values you must specify them
for new records (Firebird):</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">fdb</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jam.db</span><span class="w"> </span><span class="kn">import</span> <span class="n">firebird</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_open</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">create_connection_ex</span><span class="p">(</span><span class="n">firebird</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="s1">&#39;demo.fdb&#39;</span><span class="p">,</span> \
        <span class="n">user</span><span class="o">=</span><span class="s1">&#39;SYSDBA&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;masterkey&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF8&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_select_query</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">firebird</span><span class="p">)</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">connection</span><span class="p">,</span> <span class="n">firebird</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">rows</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">get_id</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">connection</span><span class="p">):</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT NEXT VALUE FOR &quot;</span><span class="si">%s</span><span class="s1">&quot; FROM RDB$DATABASE&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_name</span> <span class="o">+</span> <span class="s1">&#39;_SEQ&#39;</span><span class="p">))</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_apply</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">delta</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">create_connection_ex</span><span class="p">(</span><span class="n">firebird</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="s1">&#39;demo.fdb&#39;</span><span class="p">,</span> \
        <span class="n">user</span><span class="o">=</span><span class="s1">&#39;SYSDBA&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;masterkey&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF8&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">delta</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">d</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">edit</span><span class="p">()</span>
            <span class="n">d</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">get_id</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">connection</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">detail</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">details</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">detail</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                        <span class="n">r</span><span class="o">.</span><span class="n">edit</span><span class="p">()</span>
                        <span class="n">r</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">get_id</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="n">connection</span><span class="p">)</span>
                        <span class="n">r</span><span class="o">.</span><span class="n">post</span><span class="p">()</span>
            <span class="n">d</span><span class="o">.</span><span class="n">post</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="n">delta</span><span class="o">.</span><span class="n">apply_sql</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">firebird</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">connection</span><span class="p">,</span> <span class="n">firebird</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<p>You can use the task <code class="docutils literal notranslate"><span class="pre">on_open</span></code> and <code class="docutils literal notranslate"><span class="pre">on_apply</span></code> events. Below is the code
from task client module:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">MySQLdb</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jam.db</span><span class="w"> </span><span class="kn">import</span> <span class="n">mysql</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_open</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">item_name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;table1&#39;</span><span class="p">,</span> <span class="s1">&#39;table2&#39;</span><span class="p">]:</span> <span class="c1"># or</span>
    <span class="c1">#if item.table_name in [&#39;table1&#39;, &#39;table2&#39;]:</span>
      <span class="n">connection</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">create_connection_ex</span><span class="p">(</span><span class="n">mysql</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="s1">&#39;demo&#39;</span><span class="p">,</span> \
          <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;111&#39;</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF8&#39;</span><span class="p">)</span>
      <span class="k">try</span><span class="p">:</span>
          <span class="n">sql</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">get_select_query</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">mysql</span><span class="p">)</span>
          <span class="n">rows</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="n">connection</span><span class="p">,</span> <span class="n">mysql</span><span class="p">)</span>
      <span class="k">finally</span><span class="p">:</span>
          <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
      <span class="k">return</span> <span class="n">rows</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">on_apply</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">delta</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">item_name</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;table1&#39;</span><span class="p">,</span> <span class="s1">&#39;table2&#39;</span><span class="p">]:</span>
      <span class="n">connection</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">create_connection_ex</span><span class="p">(</span><span class="n">mysql</span><span class="p">,</span> <span class="n">database</span><span class="o">=</span><span class="s1">&#39;demo&#39;</span><span class="p">,</span> \
          <span class="n">user</span><span class="o">=</span><span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s1">&#39;111&#39;</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;UTF8&#39;</span><span class="p">)</span>
      <span class="k">try</span><span class="p">:</span>
          <span class="n">sql</span> <span class="o">=</span> <span class="n">delta</span><span class="o">.</span><span class="n">apply_sql</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">mysql</span><span class="p">)</span>
          <span class="n">result</span> <span class="o">=</span> <span class="n">item</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">connection</span><span class="p">,</span> <span class="n">mysql</span><span class="p">)</span>
      <span class="k">finally</span><span class="p">:</span>
          <span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
      <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not set History attribute to True for this tables. If you do so you’ll get
the exception. History table must be one for all databases that you use in
the project.
You can try to create the history table in the other database and write the
<code class="docutils literal notranslate"><span class="pre">on_open</span></code> and <code class="docutils literal notranslate"><span class="pre">on_apply</span></code> event handlers for it.</p>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="how_to_use_jam_py_with_existing_database.html" class="btn btn-neutral float-left" title="Can I use Jam.py with existing database" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="how_to_request_from_other_application.html" class="btn btn-neutral float-right" title="How I can process a request or get some data from other application or service" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Jam.py Team.
      <span class="lastupdated">Last updated on Feb 07, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-122962025-6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-122962025-6', {
          'anonymize_ip': false,
      });
    </script>  

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>